<section class="layout-shell">
  <header class="layout-header">
    <p class="eyebrow">Reactive forms</p>
    <h2>Stock entry</h2>
    <p class="layout-subtext">
      Capture stock details with a single form group.
    </p>
  </header>

  <div class="layout-grid">
    <form class="reactive-form" [formGroup]="stockForm" (ngSubmit)="onSubmit()">
      <label class="field" for="stockName">
        <span>Name</span>
        <input
          id="stockName"
          type="text"
          class="form-control"
          name="name"
          formControlName="name"
        />
        @if (
          stockForm.get("name")?.invalid &&
          (stockForm.get("name")?.dirty || stockForm.get("name")?.touched)
        ) {
          <span class="field-error"> Name is required. </span>
        }
      </label>

      <label class="field" for="stockCode">
        <span>Code</span>
        <input
          id="stockCode"
          type="text"
          class="form-control"
          name="category"
          formControlName="code"
        />
        @if (
          stockForm.get("code")?.invalid &&
          (stockForm.get("code")?.dirty || stockForm.get("code")?.touched)
        ) {
          <span class="field-error"> Code must be at least 5 characters. </span>
        }
      </label>

      <label class="field" for="stockPrice">
        <span>Price</span>
        <input
          id="stockPrice"
          type="number"
          class="form-control"
          name="price"
          formControlName="price"
        />
        @if (
          stockForm.get("price")?.invalid &&
          (stockForm.get("price")?.dirty || stockForm.get("price")?.touched)
        ) {
          <span class="field-error"> Price must be 0 or higher. </span>
        }
      </label>

      <div class="form-actions">
        <button class="btn btn-primary" type="submit">Save</button>
      </div>
    </form>

    <aside class="status-card">
      <h3>Live form state</h3>
      <div class="status-row">
        <span>Status</span>
        <strong>{{ stockForm.status }}</strong>
      </div>
      <div class="status-row">
        <span>Valid</span>
        <strong>{{ stockForm.valid ? "Yes" : "No" }}</strong>
      </div>
      <code class="json-output">{{ stockForm.value | json }}</code>
    </aside>
  </div>
</section>
