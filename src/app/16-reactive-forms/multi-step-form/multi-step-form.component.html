<form (ngSubmit)="submitForm()" [formGroup]="multiStepForm">
  <ng-container *ngIf="formStep === 0" formGroupName="userDetail">
    <h3>User Details</h3>
    <div class="mb-3">
      <label class="form-label" for="fullName">Full Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="fullName"
        name="fullName"
        id="fullName"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          userDetailForm.get('fullName')?.invalid &&
          userDetailForm.get('fullName')?.touched
        "
      >
        * fullName is required
      </span>
    </div>
    <div class="mb-3">
      <label class="form-label" for="email">Email</label>
      <input
        type="text"
        class="form-control"
        formControlName="email"
        name="email"
        id="email"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          userDetailForm.get('email')?.invalid &&
          userDetailForm.get('email')?.touched
        "
      >
        * email is required
      </span>
    </div>
    <div class="mb-3">
      <label class="form-label" for="password">Password</label>
      <input
        type="password"
        class="form-control"
        formControlName="password"
        name="password"
        id="password"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          userDetailForm.get('password')?.invalid &&
          userDetailForm.get('password')?.touched
        "
      >
        * password is required
      </span>
    </div>
  </ng-container>

  <ng-container *ngIf="formStep === 1" formGroupName="additionalDetail">
    <h3>Additional Details</h3>
    <div class="mb-3">
      <label class="form-label" for="phoneNumber">Phone Number</label>
      <input
        type="text"
        class="form-control"
        formControlName="phoneNumber"
        name="phoneNumber"
        id="phoneNumber"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          additionalDetailForm.get('phoneNumber')?.invalid &&
          additionalDetailForm.get('phoneNumber')?.touched
        "
      >
        * 10 digit phoneNumber is required
      </span>
    </div>
    <div class="mb-3">
      <label class="form-label" for="address">Address</label>
      <input
        type="text"
        class="form-control"
        formControlName="address"
        name="address"
        id="address"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          additionalDetailForm.get('address')?.invalid &&
          additionalDetailForm.get('address')?.touched
        "
      >
        * address is required
      </span>
    </div>
    <div class="mb-3">
      <label class="form-label" for="country">Country</label>
      <input
        type="text"
        class="form-control"
        formControlName="country"
        name="country"
        id="country"
        autocomplete="off"
      />
      <span
        class="form-label text-danger"
        *ngIf="
          additionalDetailForm.get('country')?.invalid &&
          additionalDetailForm.get('country')?.touched
        "
      >
        * country is required
      </span>
    </div>
    <div class="mb-3">
      <label class="form-label" for="gender">Gender</label>
      <select
        class="form-control"
        formControlName="gender"
        name="gender"
        id="gender"
        autocomplete="off"
      >
        <option>select gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>

      <span
        class="form-label text-danger"
        *ngIf="
          additionalDetailForm.get('gender')?.invalid &&
          additionalDetailForm.get('gender')?.touched
        "
      >
        * gender is required
      </span>
    </div>
  </ng-container>

  <ng-container *ngIf="formStep === 2" formGroupName="feedback">
    <h3>Additional Details</h3>
    <div class="mb-3">
      <label class="form-label" for="comment">Feedback</label>
      <textarea
        type="text"
        class="form-control"
        formControlName="comment"
        name="comment"
        id="comment"
        autocomplete="off"
      >
      </textarea>
    </div>
  </ng-container>
  <section>
    <div class="form-row">
      <button
        class="btn btn-success col-auto m-1"
        *ngIf="formStep > 0"
        (click)="goBack()"
        type="button"
      >
        Previous
      </button>
      <button
        class="btn btn-secondary col-auto m-1"
        *ngIf="formStep < 2"
        (click)="goForward()"
        type="button"
      >
        Next
      </button>
      <button
        class="btn btn-primary col-auto m-1"
        *ngIf="formStep === 2"
        type="submit"
      >
        Submit
      </button>
    </div>
  </section>
</form>
