<section class="wizard-shell">
  <header class="wizard-header">
    <p class="eyebrow">Multi-step form</p>
    <h2>Profile onboarding</h2>
    <p class="subtext">Complete each step to unlock the next section.</p>
  </header>

  <div class="stepper">
    <div
      class="step"
      [class.active]="formStep === 0"
      [class.complete]="formStep > 0"
    >
      <span>1</span>
      <p>User</p>
    </div>
    <div
      class="step"
      [class.active]="formStep === 1"
      [class.complete]="formStep > 1"
    >
      <span>2</span>
      <p>Details</p>
    </div>
    <div class="step" [class.active]="formStep === 2">
      <span>3</span>
      <p>Feedback</p>
    </div>
  </div>

  <form
    class="wizard-form"
    (ngSubmit)="submitForm()"
    [formGroup]="multiStepForm"
  >
    <ng-container *ngIf="formStep === 0" formGroupName="userDetail">
      <section class="step-card">
        <h3>User Details</h3>
        <div class="mb-3">
          <label class="form-label" for="fullName">Full Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="fullName"
            name="fullName"
            id="fullName"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              userDetailForm.get('fullName')?.invalid &&
              userDetailForm.get('fullName')?.touched
            "
          >
            * fullName is required
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="email">Email</label>
          <input
            type="text"
            class="form-control"
            formControlName="email"
            name="email"
            id="email"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              userDetailForm.get('email')?.invalid &&
              userDetailForm.get('email')?.touched
            "
          >
            * email is required
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="password">Password</label>
          <input
            type="password"
            class="form-control"
            formControlName="password"
            name="password"
            id="password"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              userDetailForm.get('password')?.invalid &&
              userDetailForm.get('password')?.touched
            "
          >
            * password is required
          </span>
        </div>
      </section>
    </ng-container>

    <ng-container *ngIf="formStep === 1" formGroupName="additionalDetail">
      <section class="step-card">
        <h3>Additional Details</h3>
        <div class="mb-3">
          <label class="form-label" for="phoneNumber">Phone Number</label>
          <input
            type="text"
            class="form-control"
            formControlName="phoneNumber"
            name="phoneNumber"
            id="phoneNumber"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              additionalDetailForm.get('phoneNumber')?.invalid &&
              additionalDetailForm.get('phoneNumber')?.touched
            "
          >
            * 10 digit phoneNumber is required
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="address">Address</label>
          <input
            type="text"
            class="form-control"
            formControlName="address"
            name="address"
            id="address"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              additionalDetailForm.get('address')?.invalid &&
              additionalDetailForm.get('address')?.touched
            "
          >
            * address is required
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="country">Country</label>
          <input
            type="text"
            class="form-control"
            formControlName="country"
            name="country"
            id="country"
            autocomplete="off"
          />
          <span
            class="field-error"
            *ngIf="
              additionalDetailForm.get('country')?.invalid &&
              additionalDetailForm.get('country')?.touched
            "
          >
            * country is required
          </span>
        </div>
        <div class="mb-3">
          <label class="form-label" for="gender">Gender</label>
          <select
            class="form-control"
            formControlName="gender"
            name="gender"
            id="gender"
            autocomplete="off"
          >
            <option>select gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>

          <span
            class="field-error"
            *ngIf="
              additionalDetailForm.get('gender')?.invalid &&
              additionalDetailForm.get('gender')?.touched
            "
          >
            * gender is required
          </span>
        </div>
      </section>
    </ng-container>

    <ng-container *ngIf="formStep === 2" formGroupName="feedback">
      <section class="step-card">
        <h3>Feedback</h3>
        <div class="mb-3">
          <label class="form-label" for="comment">Feedback</label>
          <textarea
            type="text"
            class="form-control"
            formControlName="comment"
            name="comment"
            id="comment"
            autocomplete="off"
          ></textarea>
        </div>
      </section>
    </ng-container>

    <section class="wizard-actions">
      <button
        class="btn btn-success"
        *ngIf="formStep > 0"
        (click)="goBack()"
        type="button"
      >
        Previous
      </button>
      <button
        class="btn btn-secondary"
        *ngIf="formStep < 2"
        (click)="goForward()"
        type="button"
      >
        Next
      </button>
      <button class="btn btn-primary" *ngIf="formStep === 2" type="submit">
        Submit
      </button>
    </section>
  </form>
</section>
