<section class="form-shell">
  <header class="form-header">
    <h2>Create Stock Form</h2>
    <p>Powered by FormBuilder with live validation feedback.</p>
  </header>

  <form class="stock-form" [formGroup]="stockForm" (ngSubmit)="onSubmit()">
    <label class="field" for="stockName">
      <span>Stock Name</span>
      <input
        id="stockName"
        type="text"
        class="form-control"
        [class.is-invalid]="
          stockForm.get('name')?.invalid &&
          (stockForm.get('name')?.dirty || stockForm.get('name')?.touched)
        "
        placeholder="Stock Name"
        name="stockName"
        formControlName="name"
      />
      <span
        *ngIf="
          stockForm.get('name')?.invalid &&
          (stockForm.get('name')?.dirty || stockForm.get('name')?.touched)
        "
        class="invalid-feedback d-block"
      >
        Name is required
      </span>
    </label>

    <label class="field" for="stockCode">
      <span>Stock Code</span>
      <input
        id="stockCode"
        type="text"
        class="form-control"
        [class.is-invalid]="
          stockForm.get('code')?.invalid &&
          (stockForm.get('code')?.dirty || stockForm.get('code')?.touched)
        "
        placeholder="Stock Code"
        formControlName="code"
      />
      <span
        *ngIf="
          stockForm.get('code')?.errors &&
          stockForm.get('code')?.invalid &&
          (stockForm.get('code')?.dirty || stockForm.get('code')?.touched)
        "
        class="invalid-feedback d-block"
      >
        <span *ngIf="stockForm.get('code')?.errors?.['required']">
          Stock Code is required
        </span>
        <span *ngIf="stockForm.get('code')?.errors?.['minlength']">
          Stock Code must be at least 2 characters
        </span>
      </span>
    </label>

    <label class="field" for="stockPrice">
      <span>Stock Price</span>
      <input
        id="stockPrice"
        type="number"
        class="form-control"
        [class.is-invalid]="
          stockForm.get('price')?.invalid &&
          (stockForm.get('price')?.dirty || stockForm.get('price')?.touched)
        "
        placeholder="Stock Price"
        formControlName="price"
      />
      <span
        *ngIf="
          stockForm.get('price')?.invalid &&
          (stockForm.get('price')?.dirty || stockForm.get('price')?.touched)
        "
        class="invalid-feedback d-block"
      >
        <span *ngIf="stockForm.get('price')?.errors?.['required']">
          Stock Price is required
        </span>
        <span *ngIf="stockForm.get('price')?.errors?.['min']">
          Stock price must be positive
        </span>
      </span>
    </label>

    <div class="form-actions">
      <button class="btn btn-primary" type="submit">Submit</button>
    </div>
  </form>

  <div class="form-meta">
    <div class="meta-card">
      <h4>Form Control value</h4>
      <code class="json-output">{{ stockForm.value | json }}</code>
    </div>
    <div class="meta-card">
      <h4>Form Control status</h4>
      <code class="json-output">{{ stockForm.status | json }}</code>
    </div>
  </div>
</section>
